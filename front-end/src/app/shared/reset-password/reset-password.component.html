<div class="forgot-container">
  <div class="forgot-header">
    <h1>Set New Password</h1>
    <p class="subtitle">
      Enter your new password below.
    </p>
  </div>

  <div class="forgot-content">
    <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
      <div class="form-section">
        <h3>New Password</h3>

        <div class="form-row">
          <div class="form-group full-width">
            <label for="password">New Password *</label>
            <input
              id="password"
              type="password"
              formControlName="password"
              [ngClass]="{ 'is-invalid': submitted && f['password'].errors }"
            />
            <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
              <div *ngIf="f['password'].errors['required']">Password is required</div>
              <div *ngIf="f['password'].errors['minlength']">Minimum 6 characters</div>
            </div>
          </div>

          <div class="form-group full-width">
            <label for="confirmPassword">Confirm Password *</label>
            <input
              id="confirmPassword"
              type="password"
              formControlName="confirmPassword"
              [ngClass]="{ 'is-invalid': submitted && (f['confirmPassword'].errors || resetForm.errors?.['mismatch']) }"
            />
            <div *ngIf="submitted && (f['confirmPassword'].errors || resetForm.errors?.['mismatch'])" class="invalid-feedback">
              <div *ngIf="f['confirmPassword'].errors?.['required']">Confirmation is required</div>
              <div *ngIf="resetForm.errors?.['mismatch']">Passwords do not match</div>
            </div>
          </div>
        </div>
      </div>

      <div class="form-footer single">
        <button
          type="submit"
          class="btn-submit"
          [disabled]="processing || resetForm.invalid"
        >
          <span *ngIf="!processing">Reset Password</span>
          <span *ngIf="processing" class="loading-spinner">
            <i class="fas fa-circle-notch fa-spin"></i> Processingâ€¦
          </span>
        </button>
      </div>
    </form>
  </div>
</div>
